[gd_scene load_steps=19 format=2]

[ext_resource path="res://Scenes/CosmicBackground.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/CosmicBodies/Planet.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/CosmicBodies/Star.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Ships/TestShip.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/UI/UI.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Ships/ShipDrone.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scenes/Ships/ShipMoth.tscn" type="PackedScene" id=8]
[ext_resource path="res://Scripts/Shaders/Planet.shader" type="Shader" id=9]
[ext_resource path="res://src/Textures/Ships/Ship2.png" type="Texture" id=11]

[sub_resource type="Shader" id=1]
resource_local_to_scene = true
code = "shader_type canvas_item;
render_mode unshaded;

uniform sampler2D noise;
uniform float xRotation: hint_range(0.0, 0.5);
uniform float yRotation: hint_range(0.0, 0.5);
uniform vec4 color: hint_color;
uniform float brightness: hint_range(0.0, 1.0);

void fragment()
{
	vec2 uv = vec2(UV.x + xRotation * TIME, UV.y + yRotation * TIME);
	COLOR = texture(TEXTURE, UV);
	float a = COLOR.a;
	COLOR *= texture(noise, uv) + (color * brightness);
	COLOR.a = a;
}"

[sub_resource type="OpenSimplexNoise" id=2]
period = 11.6
persistence = 0.657
lacunarity = 2.06

[sub_resource type="NoiseTexture" id=3]
seamless = true
noise = SubResource( 2 )

[sub_resource type="ShaderMaterial" id=4]
resource_local_to_scene = true
shader = SubResource( 1 )
shader_param/xRotation = 0.006
shader_param/yRotation = 0.011
shader_param/color = Color( 0.968627, 0.513726, 0.0705882, 1 )
shader_param/brightness = 0.722
shader_param/noise = SubResource( 3 )

[sub_resource type="OpenSimplexNoise" id=5]
period = 101.1
persistence = 0.518
lacunarity = 2.12

[sub_resource type="NoiseTexture" id=6]
seamless = true
noise = SubResource( 5 )

[sub_resource type="OpenSimplexNoise" id=7]
seed = 6
period = 108.0
persistence = 0.59
lacunarity = 2.17

[sub_resource type="NoiseTexture" id=8]
seamless = true
noise = SubResource( 7 )

[sub_resource type="ShaderMaterial" id=9]
resource_local_to_scene = true
shader = ExtResource( 9 )
shader_param/xRotation = 0.011
shader_param/yRotation = 0.017
shader_param/waterLevel = 0.47
shader_param/atmoLevel = 0.563
shader_param/waterColor = Color( 0.0509804, 0.254902, 0.643137, 1 )
shader_param/landColor = Color( 0.164706, 0.392157, 0.0745098, 1 )
shader_param/atmoColor = Color( 1, 1, 1, 1 )
shader_param/brightness = 0.805
shader_param/noise = SubResource( 8 )
shader_param/atmoNoise = SubResource( 6 )

[node name="World" type="Node2D"]

[node name="CosmicBackground" parent="." instance=ExtResource( 1 )]
light_mask = 0
z_index = -10

[node name="CosmicBodies" type="Node2D" parent="."]
z_index = -5

[node name="Star" parent="CosmicBodies" instance=ExtResource( 4 )]
position = Vector2( 524.794, 336.019 )

[node name="Sprite" parent="CosmicBodies/Star" index="0"]
material = SubResource( 4 )

[node name="Light2D" parent="CosmicBodies/Star" index="1"]
range_height = 500.0

[node name="Planet" parent="CosmicBodies" instance=ExtResource( 2 )]
position = Vector2( -603.894, 733.148 )

[node name="Sprite" parent="CosmicBodies/Planet" index="0"]
material = SubResource( 9 )

[node name="Ships" type="Node2D" parent="."]

[node name="TestShip" parent="Ships" instance=ExtResource( 5 )]
position = Vector2( 257.859, -924.342 )

[node name="TestShip2" parent="Ships" instance=ExtResource( 5 )]
position = Vector2( 1199.22, -756.924 )

[node name="ShipMoth" parent="Ships" instance=ExtResource( 8 )]
position = Vector2( -1052, -844 )
inventoryTexture = ExtResource( 11 )

[node name="Ship_Drone" parent="Ships" instance=ExtResource( 7 )]
position = Vector2( 1520, 144 )
mass = 500.0
ownerIsPlayer = true

[node name="UI" parent="." instance=ExtResource( 6 )]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 0.211765, 0.211765, 0.211765, 1 )

[editable path="CosmicBodies/Star"]
[editable path="CosmicBodies/Planet"]
[editable path="Ships/TestShip"]
[editable path="Ships/TestShip/Slots/ShieldGeneratorSlot/TestShieldGenerator"]
[editable path="Ships/TestShip2"]
[editable path="Ships/TestShip2/Slots/ShieldGeneratorSlot/TestShieldGenerator"]
[editable path="Ships/ShipMoth"]
[editable path="Ships/ShipMoth/Slots/ShieldGeneratorSlot/TestShieldGenerator"]
[editable path="Ships/Ship_Drone"]
[editable path="Ships/Ship_Drone/Slots/ShieldGeneratorSlot/TestShieldGenerator"]
[editable path="UI"]
[editable path="UI/MoveCursorBackground"]
